<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<style type=text/css>body{font-family:monospace;}</style>
	<title>how to ensure kernel threads do not access isolated CPU</title>
	
	
	<link rel="stylesheet" href="/css/style.css">
	
	
</head>
<body>
	<header>
	==========================<br>
	== <a href="http://localhost:1313/">Gharib Personal Blog</a> ==<br>
	==========================
	<div style="float: right;">A Techi Personal Blog</div><br>
	<p>
	<nav>
			<a href="/"><b>Start</b></a>.
			
			
			<a href="/posts/"><b>Posts</b></a>.
			
			<a href="/categories/"><b>Categories</b></a>.
			
			<a href="/tags/"><b>Tags</b></a>.
			
	</nav>
	</p>
	
</header>

	
	<main>
		<article>
			<h1>how to ensure kernel threads do not access isolated CPU</h1>
			<b><time>06.12.2024 20:50</time></b>
		       
		           <a href="/tags/unix.stackexchange.com">unix.stackexchange.com</a>
        	       

			<div>
				<h1 id="how-to-ensure-kernel-threads-do-not-access-isolated-cpu">how to ensure kernel threads do not access isolated CPU</h1>
<p><strong>Published on</strong>: 2024-12-06T20:50:35Z</p>
<p><strong>Summary</strong>: I have a real time user level software stack running on ubuntu RT kernel. Linux ran416 5.15.0-1061-realtime #69-Ubuntu SMP PREEMPT_RT Mon Apr 15 18:56:55 UTC 2024 x86_64 x86_64 x86_64 GNU/Linux I also configured CPU isolation and use set core affinity APIs to make some critical threads run on isolated CPU. I ensured none other applications / threads are running on those isolated kernel (be it set core affinity or taskset) So these eliminate any user application / threads from accessing my isolated core. I ensured I am not doing any I/O, network operation or locking of any sort in the critical threads. Still I see that kernel threads are sometime accessing the isolated cpu core in question. In such situation when my thread do not yield to kernel thread it causes system freeze. And in other cases it causes my critical thread to miss events that have catastrophic consequences on my stack. I tried playing with /proc/sys/kernel/sched_rt_period_us and /proc/sys/kernel/sched_rt_runtime_us as suggested by ubuntu support, but it does not seem to help or sometime create further instability. Ubuntu support also indicated that &quot;CPU pinning does not isolate kernel thread. Only other user-space applications are guaranteed not to run on the isolated cores.&quot; So my question is there any other flavor of linux that can give me this guarantee ? If not, what is the ideal approach to work with this limitation, given the fact that I want few threads of my user space application to be absolutely have no contention for CPU</p>
<p>Read more: <a href="https://unix.stackexchange.com/questions/787759/how-to-ensure-kernel-threads-do-not-access-isolated-cpu">how to ensure kernel threads do not access isolated CPU</a></p>

			</div>
		</article>
	</main>
<aside>
	<div>
		<div>
			<h3>LATEST POSTS</h3>
		</div>
		<div>
			<ul>
				
				<li><a href="/posts/security.stackexchange.com_what_is_this_hacker_trying_to_do_by_accessing_stac/">What is this hacker trying to do by accessing stack exchange specific URLs on my site? [closed]</a></li>
				
				<li><a href="/posts/security.stackexchange.com_buffer_overflow_use_ebp_instead_of_esp_ebp&#43;4__re/">buffer overflow use ebp instead of esp (ebp&#43;4 = ret address)</a></li>
				
				<li><a href="/posts/security.stackexchange.com_character_escaping_xss_closed/">Character escaping xss [closed]</a></li>
				
				<li><a href="/posts/security.stackexchange.com_is_there_a_way_to_limit_browser_extension_internet/">Is there a way to limit browser extension internet access?</a></li>
				
				<li><a href="/posts/security.stackexchange.com_is_it_common_practice_to_remove_trusted_certificat/">Is it common practice to remove trusted certificate authorities (CA) located in untrusted countries?</a></li>
				
			</ul>
		</div>
	</div>
</aside>


	<footer>
	<p>&copy; 2025 <a href="http://localhost:1313/"><b>Alireza Gharib. All right reserved</b></a>.
	<a href="https://github.com/Gharib110"><b>Github</b></a>.
	</p>
</footer>

</body>
</html>
