<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<style type=text/css>body{font-family:monospace;}</style>
	<title>Mastering sed Command in Linux A Comprehensive Guide</title>
	
	
	<link rel="stylesheet" href="/css/style.css">
	
	
</head>
<body>
	<header>
	==========================<br>
	== <a href="https://ghariib.ir/">Gharib Personal Blog</a> ==<br>
	==========================
	<div style="float: right;">A Techi Personal Blog</div><br>
	<p>
	<nav>
			<a href="/"><b>Start</b></a>.
			
			
			<a href="/posts/"><b>Posts</b></a>.
			
			<a href="/categories/"><b>Categories</b></a>.
			
			<a href="/tags/"><b>Tags</b></a>.
			
	</nav>
	</p>
	
</header>

	
	<main>
		<article>
			<h1>Mastering sed Command in Linux A Comprehensive Guide</h1>
			<b><time>09.01.2025 00:00</time></b>
		       

			<div>
				<h1 id="mastering-sed-command-in-linux-a-comprehensive-guide">Mastering sed Command in Linux A Comprehensive Guide</h1>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>The <code>sed</code> (Stream Editor) command in Linux is a powerful utility for text manipulation. It enables users to perform various operations such as searching, replacing, inserting, and deleting text in files. This tutorial provides a comprehensive guide to mastering the <code>sed</code> command with practical examples, syntax explanations, and advanced use cases.</p>
<h2 id="what-is-the-sed-command"><a href="#what-is-the-sed-command">What is the sed Command?</a><a href="#what-is-the-sed-command"></a></h2>
<p>The <code>sed</code> command is a <a href="/community/tutorials/the-basics-of-using-the-sed-stream-editor-to-manipulate-text-in-linux">stream editor</a> that processes text in a line-by-line fashion. This allows you to modify file content without directly opening the file in a text editor. It is widely used in shell scripting and system administration to automate text-processing tasks.</p>
<h3 id="key-features-of"><a href="#key-features-of-sed">Key Features of <code>sed</code></a><a href="#key-features-of-sed"></a></h3>
<p>1.Pattern matching and replacement 2.In-place file editing 3.Text filtering and manipulation 4.Support for regular expressions 5.Multiline operations</p>
<h2 id="basic-syntax-of-the"><a href="#basic-syntax-of-the-sed-command">Basic Syntax of the <code>sed</code> Command</a><a href="#basic-syntax-of-the-sed-command"></a></h2>
<p>The basic syntax of the <code>sed</code> command consists of three main components: the command options, a script defining the editing instructions, and the file to be processed.</p>
<p>This structure allows users to specify the command’s behavior, define the text transformations, and apply them to the desired file.</p>
<ol>
<li>
<p><strong>Command Options</strong>: These are used to specify the command’s behavior. For example, the <code>-i</code> option is used for in-place file editing i.e to overwrite the file.</p>
</li>
<li>
<p><strong>Script</strong>: The script defines the editing instructions. It can be enclosed in single quotes (<code>'</code>) or double quotes (<code>&quot;</code>). The script can contain one or more editing commands, each separated by a semicolon (<code>;</code>).</p>
</li>
<li>
<p><strong>Input File</strong>: This is the file to be processed. It can be a single file or a list of files separated by spaces. If no file is specified, <code>sed</code> reads from the standard input.</p>
</li>
</ol>
<p>The basic syntax of the <code>sed</code> command is as follows:</p>
<pre tabindex="0"><code>sed [options] &#39;script&#39; file
</code></pre><p>In this syntax, <code>sed</code> is the command, <code>[options]</code> is the command options, <code>'script'</code> contains the editing commands, and <code>file</code> is the file to be processed.</p>
<pre tabindex="0"><code>sed [options] &#39;script&#39; file
</code></pre><p>You will understand it better with the examples below.</p>
<pre tabindex="0"><code>sed &#39;s/hello/world/&#39; sample.txt
</code></pre><p>This replaces the first occurrence of “hello” with “world” in each line of <code>sample.txt</code>.</p>
<h2 id="commonly-used-options-in"><a href="#commonly-used-options-in-sed">Commonly Used Options in <code>sed</code></a><a href="#commonly-used-options-in-sed"></a></h2>
<p>Option</p>
<p>Description</p>
<p>Example</p>
<p><code>-i</code></p>
<p>In-place editing</p>
<p><code>sed -i 's/old/new/' file.txt</code></p>
<p><code>-n</code></p>
<p>Suppress automatic printing</p>
<p><code>sed -n '/pattern/p' file.txt</code></p>
<p><code>-e</code></p>
<p>Execute multiple commands</p>
<p><code>sed -e 's/old/new/' -e '/pattern/d' file.txt</code></p>
<p><code>-f</code></p>
<p>Read commands from a file</p>
<p><code>sed -f script.sed file.txt</code></p>
<p><code>-r</code></p>
<p>Use extended regular expressions</p>
<p><code>sed -r 's/old/new/' file.txt</code></p>
<p><code>-E</code></p>
<p>Use extended regular expressions (similar to <code>-r</code>)</p>
<p><code>sed -E 's/old/new/' file.txt</code></p>
<p><code>-z</code></p>
<p>Separate lines with NUL character</p>
<p><code>sed -z 's/old/new/' file.txt</code></p>
<p><code>-l</code></p>
<p>Specify the line length for the ‘l’ command</p>
<p><code>sed -l 100 'l' file.txt</code></p>
<p><code>-b</code></p>
<p>Binary mode (do not strip the CR characters)</p>
<p><code>sed -b 's/old/new/' file.txt</code></p>
<h2 id="most-common-use-cases-of"><a href="#most-common-use-cases-of-sed">Most Common Use Cases of <code>sed</code></a><a href="#most-common-use-cases-of-sed"></a></h2>
<p>Below are some of the most practical use cases of the <code>sed</code> command.</p>
<p>First, let’s create a sample text file <code>file1.txt</code> and write the below text to it, for ease of understanding and follow along-</p>
<pre tabindex="0"><code>cat &gt; file1.txt
</code></pre><p>Copy-paste the following text:</p>
<pre tabindex="0"><code>Linux is a family of free and open-source operating systems based on the Linux kernel.
Operating systems based on Linux are known as Linux distributions or distros.
Examples include Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h3 id="search-and-replace"><a href="#search-and-replace">Search and Replace</a><a href="#search-and-replace"></a></h3>
<p>In the below command the <code>s</code> specifies the substitution operation and the <code>/</code> are delimiters. The <code>/Linux/</code> is the search pattern and the <code>Unix</code> is the replacement string.</p>
<p><strong>Note:</strong> By default, the <code>sed</code> command only replaces the first occurrence of the pattern in each line and it won’t replace the second or third occurrences in the line.</p>
<pre tabindex="0"><code>sed &#39;s/Linux/Unix/&#39; file1.txt
</code></pre><p>This command replaces the first occurrence of “Linux” with “Unix” in each line.</p>
<p>Output:</p>
<pre tabindex="0"><code>OutputUnix is a family of free and open-source operating systems based on the Linux kernel.
Operating systems based on Unix are known as Linux distributions or distros.
Examples include Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Unix, and many others.
</code></pre><h3 id="replace-globally-in-each-line"><a href="#replace-globally-in-each-line">Replace Globally in Each Line</a><a href="#replace-globally-in-each-line"></a></h3>
<p>The substitute flag <code>/g</code> (global replacement) specifies the <code>sed</code> command to replace all the occurrences of the string in the line.</p>
<pre tabindex="0"><code>sed &#39;s/Linux/Unix/g&#39; file1.txt
</code></pre><p>This command replaces all occurrences of “Linux” with “Unix” in each line.</p>
<p>Output:</p>
<pre tabindex="0"><code>OutputUnix is a family of free and open-source operating systems based on the Unix kernel.
Operating systems based on Unix are known as Unix distributions or distros.
Examples include Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Unix, and many others.
</code></pre><h3 id="in-place-editing"><a href="#in-place-editing">In-Place Editing</a><a href="#in-place-editing"></a></h3>
<p>The `-i enables in-place editing of the file. In simple words it overwrites the file.</p>
<pre tabindex="0"><code>sed -i &#39;s/Linux/Unix/&#39; file1.txt
</code></pre><p>This command edits the file in place, replacing “Linux” with “Unix” directly in <code>file1.txt</code>. Without <code>-i</code>, the insertion occurs only in the output and doesn’t modify the file content. To make the change persistent, you need to use the <code>-i</code> option.</p>
<h3 id="delete-specific-lines"><a href="#delete-specific-lines">Delete Specific Lines</a><a href="#delete-specific-lines"></a></h3>
<pre tabindex="0"><code>sed &#39;2d&#39; file1.txt
</code></pre><p>This command will delete the second line from <code>file1.txt</code>.</p>
<p>Output:</p>
<pre tabindex="0"><code>OutputUnix is a family of free and open-source operating systems based on the Linux kernel.
Examples include Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Unix, and many others.
</code></pre><h3 id="print-specific-lines"><a href="#print-specific-lines">Print Specific Lines</a><a href="#print-specific-lines"></a></h3>
<p>The <code>-n</code> suppresses automatic printing of pattern space and <code>p</code> is the print command.</p>
<pre tabindex="0"><code>sed -n &#39;1,2p&#39; file1.txt
</code></pre><p>This command prints lines 1 through 2 from <code>file1.txt</code>.</p>
<p>Output:</p>
<pre tabindex="0"><code>OutputUnix is a family of free and open-source operating systems based on the Unix kernel.
Operating systems based on Unix are known as Unix distributions or distros.
</code></pre><h3 id="delete-lines-matching-a-pattern"><a href="#delete-lines-matching-a-pattern">Delete Lines Matching a Pattern</a><a href="#delete-lines-matching-a-pattern"></a></h3>
<p>The <code>/pattern/</code> matches lines containing the pattern and the <code>d</code> flag deletes matched lines.</p>
<pre tabindex="0"><code>sed &#39;/kernel/d&#39; file1.txt
</code></pre><p>This command will delete all the lines containing the word “kernel”.</p>
<p>Output:</p>
<pre tabindex="0"><code>OutputOperating systems based on Unix are known as Unix distributions or distros.
Examples include Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Unix, and many others.
</code></pre><h3 id="substitute-with-a-backup-file"><a href="#substitute-with-a-backup-file">Substitute with a Backup File</a><a href="#substitute-with-a-backup-file"></a></h3>
<p>The below command will replace all the instances of “Unix” with “Linux” and create a backup file named <code>file1.txt.bak</code> with older file content before replacing. The <code>-i.bak</code> enables in-place editing and creates a backup file.</p>
<pre tabindex="0"><code>sed -i.bak &#39;s/Unix/Linux/g&#39; file1.txt
</code></pre><p>Output:</p>
<pre tabindex="0"><code>OutputLinux is a family of free and open-source operating systems based on the Linux kernel.
Operating systems based on Linux are known as Linux distributions or distros.
Examples include Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><p>And, here is the file content of the backup file <code>file1.txt.bak</code>.</p>
<pre tabindex="0"><code>more file1.txt.bak
</code></pre><pre tabindex="0"><code>OutputUnix is a family of free and open-source operating systems based on the Unix kernel.
Operating systems based on Unix are known as Unix distributions or distros.
Examples include Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Unix, and many others.
</code></pre><h3 id="replace-tabs-with-spaces"><a href="#replace-tabs-with-spaces">Replace Tabs with Spaces</a><a href="#replace-tabs-with-spaces"></a></h3>
<p>The below command will replace each tab character with four spaces. The <code>\t</code> flag matches tab characters and the <code>/g</code> flag is for the global replacement across the line.</p>
<pre tabindex="0"><code>sed &#39;s/\t/    /g&#39; file1.txt
</code></pre><p>Output:</p>
<pre tabindex="0"><code>Output   Linux is a family of free and open-source operating systems based on the Linux kernel.
Operating systems based on Linux are known as Linux distributions or distros.
Examples     include Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h3 id="remove-empty-lines"><a href="#remove-empty-lines">Remove Empty Lines</a><a href="#remove-empty-lines"></a></h3>
<p>The below command will delete all the empty lines from <code>file1.txt</code>. The `/^&mdash;
title: &ldquo;Mastering sed Command in Linux A Comprehensive Guide&rdquo;
date: 2025-01-09T00:00:00.000Z
draft: false
type: posts
categories:</p>
<ul>
<li>linux-basics,linux-commands</li>
</ul>
<hr>
<h1 id="mastering-sed-command-in-linux-a-comprehensive-guide-1">Mastering sed Command in Linux A Comprehensive Guide</h1>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<pre tabindex="0"><code>sed &#39;/^$/d&#39; file1.txt
</code></pre><p>You can edit the <code>file1.txt</code> file using <code>vi</code> text editor and add some empty lines to test this command.</p>
<h3 id="print-lines-matching-a-pattern"><a href="#print-lines-matching-a-pattern">Print Lines Matching a Pattern</a><a href="#print-lines-matching-a-pattern"></a></h3>
<p>The below command prints only the lines containing “Ubuntu”.</p>
<pre tabindex="0"><code>sed -n &#39;/Ubuntu/p&#39; file1.txt
</code></pre><p>The <code>-n</code> option suppresses automatic printing. <code>/Ubuntu/</code> matches lines containing the pattern. and the <code>p</code> prints matched lines.</p>
<p>Output:</p>
<pre tabindex="0"><code>OutputExample includes Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h2 id="advanced-use-cases-of"><a href="#advanced-use-cases-of-sed">Advanced Use Cases of <code>sed</code></a><a href="#advanced-use-cases-of-sed"></a></h2>
<p>This section consists of some advanced and more complicated use cases of the <code>sed</code> command.</p>
<h3 id="insert-text-before-a-line"><a href="#insert-text-before-a-line">Insert Text Before a Line</a><a href="#insert-text-before-a-line"></a></h3>
<p>The below command inserts “This is inserted text.” before the second line in <code>file1.txt</code>.</p>
<pre tabindex="0"><code>sed -i &#39;2i\This is inserted text.&#39; file1.txt
</code></pre><p>The <code>-i</code> option is for in-place editing and the <code>2i\</code> flag inserts text before the 2nd line.</p>
<p><strong>Note:</strong> Without <code>-i</code>, the insertion occurs only in the output and doesn’t modify the file content. To make the change persistent, you need to use the <code>-i</code> option with the <code>sed</code> command.</p>
<p>Output:</p>
<pre tabindex="0"><code>OutputLinux is a family of free and open-source operating systems based on the Linux kernel.
This is inserted text.
Operating systems based on Linux are known as Linux distributions or distros.
Example includes Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h3 id="replacing-the-nth-occurrence-of-a-pattern-in-a-line"><a href="#replacing-the-nth-occurrence-of-a-pattern-in-a-line">Replacing the nth occurrence of a pattern in a line</a><a href="#replacing-the-nth-occurrence-of-a-pattern-in-a-line"></a></h3>
<p>Use the <code>/1</code> or <code>/2</code> flags to replace the first, second occurrence of a pattern in a line. The below command replaces the second occurrence of the word “Linux” with “Unix” in a line.</p>
<pre tabindex="0"><code>sed &#39;s/Linux/Unix/2&#39; file1.txt
</code></pre><p>Output:</p>
<pre tabindex="0"><code>OutputLinux is a family of free and open-source operating systems based on the Unix kernel.
This is inserted text.
Operating systems based on Linux are known as Unix distributions or distros.
Examples includes Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h3 id="append-string-after-a-line"><a href="#append-string-after-a-line">Append String After a Line</a><a href="#append-string-after-a-line"></a></h3>
<p>The below command appends “This is appended text.” after the third line in <code>file1.txt</code>. THe <code>-i</code> option makes sure the changes are saved and the <code>3a\</code> appends text after the specified third line.</p>
<pre tabindex="0"><code>sed -i &#39;3a\This is appended text.&#39; file1.txt
</code></pre><p>Output:</p>
<pre tabindex="0"><code>OutputLinux is a family of free and open-source operating systems based on the Linux kernel.
This is inserted text.
Operating systems based on Linux are known as Linux distributions or distros.
This is appended text.
Example includes Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h3 id="replace-string-at-the-beginning-of-a-line"><a href="#replace-string-at-the-beginning-of-a-line">Replace String at the Beginning of a Line</a><a href="#replace-string-at-the-beginning-of-a-line"></a></h3>
<p>The <code>^&lt;pattern&gt;</code> flag is used to match a specific pattern at the start of a line. The below command replaces “Linux” with “Unix” only if “Linux” appears at the start of a line.</p>
<pre tabindex="0"><code>sed &#39;s/^Linux/Unix/&#39; file1.txt
</code></pre><p>Output:</p>
<pre tabindex="0"><code>OutputUnix is a family of free and open-source operating systems based on the Linux kernel.
This is inserted text.
Operating systems based on Linux are known as Linux distributions or distros.
This is appended text.
Example includes Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h3 id="replace-string-at-the-end-of-a-line"><a href="#replace-string-at-the-end-of-a-line">Replace String at the End of a Line</a><a href="#replace-string-at-the-end-of-a-line"></a></h3>
<p>The below command replaces “distros.” with “distributions” only if it appears at the end of a line. The `<!-- raw HTML omitted -->&mdash;
title: &ldquo;Mastering sed Command in Linux A Comprehensive Guide&rdquo;
date: 2025-01-09T00:00:00.000Z
draft: false
type: posts
categories:</p>
<ul>
<li>linux-basics,linux-commands</li>
</ul>
<hr>
<h1 id="mastering-sed-command-in-linux-a-comprehensive-guide-2">Mastering sed Command in Linux A Comprehensive Guide</h1>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<pre tabindex="0"><code>sed &#39;s/distros.$/distributions/&#39; file1.txt
</code></pre><p>Output:</p>
<pre tabindex="0"><code>OutputLinux is a family of free and open-source operating systems based on the Linux kernel.
This is inserted text.
Operating systems based on Linux are known as Linux distributions or distributions.
This is appended text.
Example includes Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h3 id="case-insensitive-replacement"><a href="#case-insensitive-replacement">Case-Insensitive Replacement</a><a href="#case-insensitive-replacement"></a></h3>
<p>The below command replaces “linux” with “Unix” ignoring case sensitivity. The <code>I</code> flag makes the match case-insensitive.</p>
<pre tabindex="0"><code>sed &#39;s/linux/Unix/I&#39; file1.txt
</code></pre><h3 id="extract-lines-between-patterns"><a href="#extract-lines-between-patterns">Extract Lines Between Patterns</a><a href="#extract-lines-between-patterns"></a></h3>
<p>The below command prints all lines between “inserted” and “appended”, inclusive.</p>
<pre tabindex="0"><code>sed -n &#39;/inserted/,/appended/p&#39; file1.txt
</code></pre><ol>
<li>
<p><code>,</code>: Range operator to match lines between two patterns.</p>
</li>
<li>
<p><code>p</code>: Prints matched lines.</p>
</li>
</ol>
<p>And the <code>-n</code> option to suppress automatic printing of lines.</p>
<p>Output:</p>
<pre tabindex="0"><code>OutputThis is inserted text.
Operating systems based on Linux are known as Linux distributions or distros.
This is appended text.
</code></pre><h3 id="process-multiple-files"><a href="#process-multiple-files">Process Multiple Files</a><a href="#process-multiple-files"></a></h3>
<p>The following command replaces “Linux” with “Unix” in both <code>file1.txt</code> and <code>file2.txt</code> and overwrites the file.</p>
<pre tabindex="0"><code>sed -i &#39;s/Linux/Unix/&#39; file1.txt file2.txt
</code></pre><h3 id="format-and-number-non-empty-lines"><a href="#format-and-number-non-empty-lines">Format and Number Non-Empty Lines</a><a href="#format-and-number-non-empty-lines"></a></h3>
<p>The below command adds line numbers to non-empty lines in <code>file1.txt</code>.</p>
<pre tabindex="0"><code>sed &#39;/./=&#39; file1.txt | sed &#39;N;s/\n/ /&#39;
</code></pre><ol>
<li>
<p><code>/./=</code>: Matches non-empty lines and numbers them.</p>
</li>
<li>
<p><code>N</code>: Appends the next line to the pattern space.</p>
</li>
<li>
<p><code>s/\n/ /</code>: Replaces the newline character with a space.</p>
</li>
</ol>
<p>Output:</p>
<pre tabindex="0"><code>Output1 Linux is a family of free and open-source operating systems based on the Linux kernel.
2 This is inserted text.
3 Operating systems based on Linux are known as Linux distributions or distros.
4 This is appended text.
5 Example includes Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h3 id="replacing-string-on-a-specific-line-number"><a href="#replacing-string-on-a-specific-line-number">Replacing string on a specific line number</a><a href="#replacing-string-on-a-specific-line-number"></a></h3>
<p>You can restrict the <code>sed</code> command to replace the string on a specific line number. The below command replaces the string “distros” with “distributions” only on the third line.</p>
<pre tabindex="0"><code>sed &#39;3 s/distros/distributions/&#39; file1.txt
</code></pre><p>Output:</p>
<pre tabindex="0"><code>Linux is a family of free and open-source operating systems based on the Linux kernel.
This is inserted text.
Operating systems based on Linux are known as Linux distributions or distributions.
This is appended text.
Example includes Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h3 id="replacing-string-on-a-range-of-lines"><a href="#replacing-string-on-a-range-of-lines">Replacing string on a range of lines</a><a href="#replacing-string-on-a-range-of-lines"></a></h3>
<p>You can also specify a range of line numbers to the <code>sed</code> command for replacing a string. The below command replaces only the first occurences of “Linux” with “Unix” between lines 1 to 3.</p>
<pre tabindex="0"><code>sed &#39;1,3 s/Linux/Unix/&#39; file1.txt
</code></pre><p>Output:</p>
<pre tabindex="0"><code>OutputUnix is a family of free and open-source operating systems based on the Linux kernel.
This is inserted text.
Operating systems based on Unix are known as Linux distributions or distros.
This is appended text.
Example includes Debian, Ubuntu, Fedora, CentOS, Gentoo, Arch Linux, and many others.
</code></pre><h2 id="performance-considerations-for-large-files"><a href="#performance-considerations-for-large-files">Performance Considerations for Large Files</a><a href="#performance-considerations-for-large-files"></a></h2>
<p>Processing large files with <code>sed</code> can become resource-intensive, especially when dealing with numerous operations or very large datasets. Here are some tips to optimize performance and ensure efficient use of the <code>sed</code> command:</p>
<p>1.<strong>Use <code>-n</code> to minimize unnecessary output</strong> - The <code>-n</code> option suppresses automatic printing of each line and ensures only the desired output is displayed. This reduces overhead when working with large files.</p>
<p>Example:</p>
<pre tabindex="0"><code>sed -n &#39;/pattern/p&#39; largefile.txt
</code></pre><p>2.<strong>Simplify Scripts</strong> - Minimize the number of operations in a single command. For instance, instead of applying multiple <code>sed</code> commands sequentially, combine them into a single script to reduce file reads.</p>
<p>Example:</p>
<pre tabindex="0"><code>sed -e &#39;s/foo/bar/&#39; -e &#39;/pattern/d&#39; largefile.txt
</code></pre><p>3.<strong>Stream Input with Pipes</strong>: - When processing data from other commands or streams, use pipes to avoid intermediate file creation and reduce disk I/O.</p>
<p>Example:</p>
<pre tabindex="0"><code>cat largefile.txt | sed &#39;s/foo/bar/&#39; &gt; output.txt
</code></pre><p>4.<strong>Avoid In-Place Editing on Large Files</strong> - Instead of directly modifying large files, write output to a new file and replace the original after verifying correctness.</p>
<p>Example:</p>
<pre tabindex="0"><code>sed &#39;s/old/new/&#39; largefile.txt &gt; temp.txt &amp;&amp; mv temp.txt largefile.txt
</code></pre><p>5.<strong>Benchmark Alternatives</strong> - For very large files, consider using tools like <code>awk</code>, <code>perl</code>, or <code>grep</code>, which may offer better performance for certain tasks.</p>
<p>Example:</p>
<pre tabindex="0"><code>awk &#39;{gsub(/old/, &#34;new&#34;); print}&#39; largefile.txt &gt; output.txt
</code></pre><p>You can refer to these tutorials on <a href="/community/tutorials/awk-command-linux-unix">AWK command in Linux</a> and <a href="/community/tutorials/how-to-use-the-awk-language-to-manipulate-text-in-linux">How To Use the AWK language to Manipulate Text in Linux</a> to learn more about using <code>awk</code> command in linux.</p>
<h2 id="integration-with-shell-scripts"><a href="#integration-with-shell-scripts">Integration with Shell Scripts</a><a href="#integration-with-shell-scripts"></a></h2>
<p>The <code>sed</code> command is commonly used in <a href="/community/tutorial-series/an-introduction-to-shell-scripting">shell scripts</a> to automate repetitive text manipulation tasks. Here’s an example:</p>
<pre tabindex="0"><code>#!/bin/bash
# Replace all occurrences of &#34;foo&#34; with &#34;bar&#34; in input.txt and save the result
sed &#39;s/foo/bar/g&#39; input.txt &gt; output.txt
</code></pre><p>This script processes <code>input.txt</code> and writes the modified output to <code>output.txt</code>.</p>
<h2 id="sed"><a href="#sed-vs-other-alternatives"><code>sed</code> vs Other Alternatives</a><a href="#sed-vs-other-alternatives"></a></h2>
<p>While <code>sed</code> is an effective and lightweight tool for basic text processing, modern alternatives such as <code>awk</code> and <code>perl</code> offer additional functionality, making them better suited for specific tasks. Here’s a breakdown of key differences and when to use each:</p>
<h3 id="when-to-use"><a href="#when-to-use-sed">When to Use <code>sed</code></a><a href="#when-to-use-sed"></a></h3>
<ul>
<li>Quick, simple text substitutions or deletions.</li>
<li>Line-based transformations in files.</li>
<li>Tasks requiring minimal scripting overhead.</li>
</ul>
<h3 id="when-to-use-1"><a href="#when-to-use-awk">When to Use <code>awk</code></a><a href="#when-to-use-awk"></a></h3>
<ul>
<li>Handling structured data such as CSV or TSV files.</li>
<li>Performing arithmetic calculations alongside text processing.</li>
<li>Generating formatted reports from input data.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>awk -F, &#39;{print $1, $3}&#39; data.csv
</code></pre><p>This extracts and prints the first and third fields from a CSV file.</p>
<h3 id="when-to-use-2"><a href="#when-to-use-perl">When to Use <code>perl</code></a><a href="#when-to-use-perl"></a></h3>
<ul>
<li>Complex text manipulations involving advanced regular expressions.</li>
<li>Combining text processing with logic or conditions.</li>
<li>Writing compact, yet powerful scripts.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>perl -pe &#39;s/(error)/WARNING: $1/&#39; logfile.txt
</code></pre><p>This adds a “WARNING:” prefix to lines containing the word “error”.</p>
<h2 id="conclusion"><a href="#conclusion">Conclusion</a><a href="#conclusion"></a></h2>
<p>Mastering the <code>sed</code> command enhances your ability to manipulate and process text efficiently in Linux. Its powerful features and seamless integration into scripts make it a valuable tool for text-based manipulation tasks.</p>
<h3 id="next-steps"><a href="#next-steps">Next Steps</a><a href="#next-steps"></a></h3>
<p>After mastering the basics of <code>sed</code>, you can learn more advanced techniques and use cases. You can use the below series of tutorials on <code>sed</code> and related topics that can help you deepen your understanding and improve your text processing skills:</p>
<ul>
<li><a href="/community/tutorials/the-basics-of-using-the-sed-stream-editor-to-manipulate-text-in-linux">The Basics of Using the <code>sed</code> Stream Editor to Manipulate Text in Linux</a></li>
<li><a href="/community/tutorials/intermediate-sed-manipulating-streams-of-text-in-a-linux-environment">Intermediate <code>sed</code>: Manipulating Streams of Text in a Linux Environment</a></li>
</ul>
<p>These tutorials cover various topics, from basic <code>sed</code> operations to more complex text manipulation techniques. They are a valuable resource for anyone looking to become proficient in text processing on the command line.</p>
<h2 id="faqs"><a href="#faqs">FAQs</a><a href="#faqs"></a></h2>
<h3 id="what-is"><a href="#what-is-sed-command-in-linux">What is <code>sed</code> command in Linux?</a><a href="#what-is-sed-command-in-linux"></a></h3>
<p>The <code>sed</code> (Stream Editor) command in Linux is a powerful text processing tool used to perform basic text transformations on an input stream (a file or input from a pipeline). It allows you to search, replace, delete, and insert text, making it highly useful for automating text manipulation tasks.</p>
<h3 id="when-to-use-3"><a href="#when-to-use-sed">When to use <code>sed</code>?</a><a href="#when-to-use-sed"></a></h3>
<p>You can use <code>sed</code> in the following scenarios:</p>
<ul>
<li><strong>Text Replacement</strong>: Replace words, phrases, or patterns in files or streams.</li>
<li><strong>Text Deletion</strong>: Remove specific lines or patterns.</li>
<li><strong>In-place Editing</strong>: Modify files directly without needing to open a text editor.</li>
<li><strong>Batch Processing</strong>: Perform the same operation on multiple files using scripts.</li>
<li><strong>Text Insertion/Extraction</strong>: Insert or extract specific text in structured files like configuration files or logs.</li>
</ul>
<h3 id="how-to-use"><a href="#how-to-use-sed-properly">How to use <code>sed</code> properly?</a><a href="#how-to-use-sed-properly"></a></h3>
<p>To use <code>sed</code> effectively, follow these steps:</p>
<pre tabindex="0"><code>sed [options] &#39;command&#39; file
</code></pre><ul>
<li><code>command</code>: The <code>sed</code> operation (e.g., <code>s</code> for substitute, <code>d</code> for delete).</li>
<li><code>file</code>: The target file to process.</li>
</ul>
<p>Test Before Applying In-place: First, run the command without the <code>-i</code>’ option to see the output before modifying files directly.</p>
<p>Use Regular Expressions: Leverage sed’s support for regular expressions to match and manipulate complex patterns.</p>
<p>Chain Multiple Commands: Use <code>;</code> or <code>-e</code> to execute multiple <code>sed</code> commands in a single operation.</p>
<h3 id="how-to-use-sed-to-replace-text"><a href="#how-to-use-sed-to-replace-text">How to use sed to replace text?</a><a href="#how-to-use-sed-to-replace-text"></a></h3>
<p>To replace text, use the substitute <code>s</code> command with this syntax:</p>
<pre tabindex="0"><code>sed &#39;s/old_text/new_text/&#39; file
</code></pre><p>Examples:</p>
<ul>
<li>Replace the first occurrence of “foo” with “bar” on each line:</li>
</ul>
<pre tabindex="0"><code>sed &#39;s/foo/bar/&#39; file.txt
</code></pre><ul>
<li>Replace all occurrences of “foo” with “bar” globally:</li>
</ul>
<pre tabindex="0"><code>sed &#39;s/foo/bar/g&#39; file.txt
</code></pre><ul>
<li>In-place replacement (modifies the file directly):</li>
</ul>
<pre tabindex="0"><code>sed -i &#39;s/foo/bar/g&#39; file.txt
</code></pre><h3 id="how-do-i-run-a"><a href="#how-do-i-run-a-sed-command">How do I run a <code>sed</code> command?</a><a href="#how-do-i-run-a-sed-command"></a></h3>
<p>You can run a <code>sed</code> command directly from the terminal using this basic syntax:</p>
<pre tabindex="0"><code>sed &#39;command&#39; filename
</code></pre><p>Example:</p>
<p>To print lines containing the word “error” and replace “error” with “warning” in a file named <code>log.txt</code>:</p>
<pre tabindex="0"><code>sed &#39;s/error/warning/&#39; log.txt
</code></pre><h3 id="what-is-the-difference-between"><a href="#what-is-the-difference-between-grep-and-sed-commands-in-linux">What is the difference between <code>grep</code> and <code>sed</code> commands in Linux?</a><a href="#what-is-the-difference-between-grep-and-sed-commands-in-linux"></a></h3>
<p>Feature</p>
<p>grep</p>
<p>sed</p>
<p>Purpose</p>
<p>Search for patterns in one or more files</p>
<p>Edit streams of text</p>
<p>Output</p>
<p>Prints lines containing the pattern</p>
<p>Prints the edited text</p>
<p>Actions</p>
<p>Search, Filter</p>
<p>Search, Replace, Insert, Delete</p>
<p>Usage</p>
<p><code>grep pattern file</code></p>
<p><code>sed 'command' file</code></p>
<p>Search and Replace</p>
<p>Yes (limited)</p>
<p>Yes</p>
<p>In-place Editing</p>
<p>No</p>
<p>Yes</p>
<p>Regular Expressions</p>
<p>Yes</p>
<p>Yes</p>
<p>Multiline Operations</p>
<p>No</p>
<p>Yes</p>
<p>Text Filtering</p>
<p>No</p>
<p>Yes</p>
<p>Common Use Cases</p>
<p>Searching logs, Finding patterns in text</p>
<p>Editing configuration files, Replacing text in multiple files</p>
<p>Example:</p>
<ul>
<li>Using <code>grep</code> to search for “error” in <code>log.txt</code>:</li>
</ul>
<pre tabindex="0"><code>grep &#39;error&#39; log.txt
</code></pre><ul>
<li>Using <code>sed</code> to replace “error” with “warning” in <code>log.txt</code>:</li>
</ul>
<pre tabindex="0"><code>sed &#39;s/error/warning/g&#39; log.txt
</code></pre><h3 id="how-to-remove-an-empty-line-using"><a href="#how-to-remove-an-empty-line-using-sed">How to remove an empty line using <code>sed</code>?</a><a href="#how-to-remove-an-empty-line-using-sed"></a></h3>
<p>To remove empty lines from a file, use the following <code>sed</code> command:</p>
<pre tabindex="0"><code>sed &#39;/^$/d&#39; file.txt
</code></pre><p>Explanation:</p>
<ul>
<li>`^&mdash;
title: &ldquo;Mastering sed Command in Linux A Comprehensive Guide&rdquo;
date: 2025-01-09T00:00:00.000Z
draft: false
type: posts
categories:</li>
<li>linux-basics,linux-commands</li>
</ul>
<hr>
<h1 id="mastering-sed-command-in-linux-a-comprehensive-guide-3">Mastering sed Command in Linux A Comprehensive Guide</h1>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Example:</p>
<p>Before running the command, a file might look like this:</p>
<pre tabindex="0"><code>line 1

line 2

line 3
</code></pre><p>After running the command:</p>
<pre tabindex="0"><code>sed &#39;/^$/d&#39; file.txt
</code></pre><p>The output will be:</p>
<pre tabindex="0"><code>Outputline 1
line 2
line 3
</code></pre><h4 id="source"><a href="https://www.digitalocean.com/community/tutorials/linux-sed-command">Source</a></h4>
<!-- raw HTML omitted -->

			</div>
		</article>
	</main>
<aside>
	<div>
		<div>
			<h3>LATEST POSTS</h3>
		</div>
		<div>
			<ul>
				
				<li><a href="/posts/2025-03-20-laser-harp-sets-the-tone/">Laser Harp Sets the Tone</a></li>
				
				<li><a href="/posts/2025-03-20-arduino-device-helps-split-the-g-on-a-p/">Arduino device helps split the G on a pint of Guinness</a></li>
				
				<li><a href="/posts/2025-03-20-the-70-best-early-amazon-spring-sale-ga/">The 70 best early Amazon Spring Sale gaming deals 2025</a></li>
				
				<li><a href="/posts/2025-03-20-tomorrow-and-tomorrow-and-tomorrow-info/">Tomorrow and tomorrow and tomorrow Information security and the Baseball Hall of Fame</a></li>
				
				<li><a href="/posts/2025-03-20-i-found-an-android-phone-that-can-convi/">I found an Android phone that can convince iPhone users to make the switch - and its not a flagship</a></li>
				
			</ul>
		</div>
	</div>
</aside>


	<footer>
	<p>&copy; 2025 <a href="https://ghariib.ir/"><b>Alireza Gharib. All right reserved</b></a>.
	<a href="https://github.com/Gharib110"><b>Github</b></a>.
	</p>
</footer>

</body>
</html>
