---
title: "CVE-2024-57892 - Linux Kernel Ocfs2 Slab-Use-After-Free Vulnerability"
date: 2025-01-15
categories: 
  - "cve"
  - "cybersecurity"
  - "cybersecurity-awareness"
  - "security"
  - "threat-intelligence"
tags: 
  - "cve"
  - "cybersecurity"
  - "security"
---

**CVE ID :** CVE-2024-57892  
**Published :** Jan. 15, 2025, 1:15 p.m. | 1 hour, 2 minutes ago  
**Description :** In the Linux kernel, the following vulnerability has been resolved:

ocfs2: fix slab-use-after-free due to dangling pointer dqi\_priv

When mounting ocfs2 and then remounting it as read-only, a slab-use-after-free occurs after the user uses a syscall to quota\_getnextquota. Specifically, sb\_dqinfo(sb, type)->dqi\_priv is the dangling pointer.

During the remounting process, the pointer dqi\_priv is freed but is never set as null leaving it to be accessed. Additionally, the read-only option for remounting sets the DQUOT\_SUSPENDED flag instead of setting the DQUOT\_USAGE\_ENABLED flags. Moreover, later in the process of getting the next quota, the function ocfs2\_get\_next\_id is called and only checks the quota usage flags and not the quota suspended flags.

To fix this, I set dqi\_priv to null when it is freed after remounting with read-only and put a check for DQUOT\_SUSPENDED in ocfs2\_get\_next\_id.

\[akpm@linux-foundation.org: coding-style cleanups\]  
**Severity:** 0.0 | NA  
Visit the link for more details, such as CVSS details, affected products, timeline, and more...

Go to Source
